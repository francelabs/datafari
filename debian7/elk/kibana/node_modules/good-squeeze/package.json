{
  "name": "good-squeeze",
  "version": "2.1.0",
  "description": "Transform stream for filtering events from good.",
  "main": "lib/index.js",
  "scripts": {
    "test": "lab -m 5000 -t 100 -v -La code",
    "test-cov-html": "lab -m 5000 -r html -o coverage.html -La code"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/hapijs/good-squeeze.git"
  },
  "license": "BSD-3-Clause",
  "homepage": "https://github.com/hapijs/good-squeeze",
  "dependencies": {
    "hoek": "2.x.x",
    "json-stringify-safe": "5.0.x"
  },
  "devDependencies": {
    "code": "1.x.x",
    "lab": "5.x.x"
  },
  "readme": "# good-squeeze\n\nSimple transform streams useful in creating [good](https://github.com/hapijs/good) data pipelines.\n\n[![Build Status](https://travis-ci.org/hapijs/good-squeeze.svg?branch=master&style=flat)](https://travis-ci.org/hapijs/good-squeeze)\n![Current Version](https://img.shields.io/npm/v/good-squeeze.svg?style=flat)\n\nLead Maintainer: [Adam Bretz](https://github.com/arb)\n\n## Usage\n\ngood-squeeze is a collection of small transform streams useful in custom good reporter clients. The `Squeeze` stream is useful for filtering events based on the good event options. The `SafeJson` stream is useful for stringifying objects to prevent circular object errors.\n\n## Methods\n\n### `Squeeze(events, [options])`\n\nCreates a new Squeeze transform stream where:\n\n- `events` an object where each key is a valid good event, and the value is a string or array of strings representing event tags. \"\\*\" indicates no filtering. `null` and `undefined` are assumed to be \"\\*\".\n- `options` an optional configuration object that gets passed to the Node [`Stream.Transform`](http://nodejs.org/api/stream.html#stream_class_stream_transform) constructor. **Note** `objectMode` is always `true` for all `Squeeze` objects.\n\nThe transform stream only passes on events that satisfy the event filtering based on event name and tags. If the upstream event doesn't satisfy the filter, it is not continued down the pipe line.\n\n### `Squeeze.subscription(events)`\n\nA static method on `Squeeze` that creates a new event subscription map where:\n\n- `events` an object where each key is a valid good event, and the value is a string or array of strings representing event tags. \"*\" indicates no filtering. `null` and `undefined` are assumed to be \"*\".\n\n```js\nvar Squeeze = require('good-squeeze');\n\nSqueeze.subscription({ log: 'user', ops: '*', request: ['hapi', 'foo'] });\n\n// Results in\n// {\n//     log: [ 'user' ],\n//     ops: [],\n//     request: [ 'hapi', 'foo', 'hapi', 'foo' ]\n// }\n```\n\nUseful for creating an event subscription to be used with `Squeeze.filter` if you do not plan on creating a pipeline coming from good and instead want to manage event filtering manually.\n\n\n### `Squeeze.filter(subscription, data)`\n\nReturns `true` if the supplied `data.event` + `data.tags` should be reported based on `subscription` where:\n\n- `subscription` - a subscription map created by `Squeeze.subscription()`.\n- `data` - event object emitted from good/hapi which should contain the following keys:\n    - `event` - a string representing the event name of `data`\n    - `tags` - an array of strings representing tags associated with this event.\n\n### `SafeJson([options])`\n\nCreates a new SafeJson transform stream where:\n\n- `options` an optional configuration object that gets passed to the Node [`Stream.Transform`](http://nodejs.org/api/stream.html#stream_class_stream_transform) constructor. **Note** `objectMode` is always `true` for all `Squeeze` objects.\n\nThe transform stream stringifys the incoming data and pipes it forward. It will not crash in the cases of circular references and will instead include a \"~Circular\" string in the result.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/hapijs/good-squeeze/issues"
  },
  "_id": "good-squeeze@2.1.0",
  "_shasum": "99cee91d26d591698a899c28e9310bcf3c6ae28a",
  "_resolved": "http://registry.npmjs.org/good-squeeze/-/good-squeeze-2.1.0.tgz",
  "_from": "good-squeeze@2.1.0"
}
